@tailwind base;
@tailwind components;
@tailwind utilities;

/* 5-color tokens (RGB channels) */
:root {
  --color-bg: 255 255 255;   /* #ffffff */
  --color-fg: 38 41 46;      /* #26292e */

  --color-primary: 122 114 233; /* #7a72e9 */
  --color-accent1: 156 175 136; /* #9caf88 */
  --color-accent2: 198 207 19;  /* #c6cf13 */
  --color-dark: 38 41 46;       /* #26292e */

  /* 4px-based radii baseline */
  --radius-1: 8px;
  --radius-2: 12px;
  --radius-3: 16px;
  --radius-4: 20px;
  --radius-5: 24px;

  color-scheme: light;
}

.dark {
  --color-bg: 38 41 46;   /* dark background */
  --color-fg: 255 255 255;

  color-scheme: dark;
}

html, body {
  height: 100%;
}

body {
  background: rgb(var(--color-bg));
  color: rgb(var(--color-fg));
  font-family: Garet, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Glass primitives */
.glass {
  background: rgb(var(--color-bg) / 0.60);
  border: 1px solid rgb(var(--color-fg) / 0.10);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

.glass-strong {
  background: rgb(var(--color-bg) / 0.75);
  border: 1px solid rgb(var(--color-fg) / 0.12);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
}

/* subtle dynamic border illusion (allowed: opacity only) */
.glass-border {
  box-shadow:
    0 0 0 1px rgb(var(--color-fg) / 0.08) inset,
    0 1px 0 0 rgb(var(--color-bg) / 0.35) inset;
}

/* focus ring */
.focus-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--color-primary) / 0.45);
}

/* Один glassmorphism-бордюр (не двойной) */
.glass-border {
  position: relative;
  background: var(--glass-fill);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
}

.glass-border::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgb(255 255 255 / 0.70), rgb(38 41 46 / 0.12));
  pointer-events: none;

  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

/* Филлы строго из палитры */
.header-dock { --glass-fill: #9caf88; }
.header-search { --glass-fill: rgb(255 255 255 / 0.95); }
.header-icon { --glass-fill: rgb(255 255 255 / 0.95); }
.header-icon--accent { --glass-fill: #9caf88; }

/* Общая пилюля каталога+поиска */
.header-dock {
  --glass-fill: #9caf88; /* 100% */
}

/* Поиск */
.header-search {
  --glass-fill: rgb(255 255 255 / 0.95);
}

/* Иконки справа */
.header-icon {
  --glass-fill: rgb(255 255 255 / 0.95);
}

.header-icon--accent {
  --glass-fill: #9caf88; /* 100% */
}

/* Dark theme: фон темнеет, элементы остаются стеклянными */
html.dark .header-dock {
  background: rgb(var(--color-accent1) / 0.28);
  border-color: rgb(255 255 255 / 0.14);
}

html.dark .header-search {
  background: rgb(var(--color-dark) / 0.22);
  border-color: rgb(var(--color-accent1) / 0.45);
}

html.dark .header-icon {
  background: rgb(var(--color-dark) / 0.18);
  border-color: rgb(255 255 255 / 0.14);
}
