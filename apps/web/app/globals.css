@tailwind base;
@tailwind components;
@tailwind utilities;

/* 5-color tokens (RGB channels) */
:root {
  --color-bg: 255 255 255;   /* #ffffff */
  --color-fg: 38 41 46;      /* #26292e */

  --color-primary: 122 114 233; /* #7a72e9 */
  --color-accent1: 156 175 136; /* #9caf88 */
  --color-accent2: 198 207 19;  /* #c6cf13 */
  --color-dark: 38 41 46;       /* #26292e */

  /* 4px-based radii baseline */
  --radius-1: 8px;
  --radius-2: 12px;
  --radius-3: 16px;
  --radius-4: 20px;
  --radius-5: 24px;

  color-scheme: light;
}

.dark {
  --color-bg: 38 41 46;   /* dark background */
  --color-fg: 255 255 255;

  color-scheme: dark;
}

html, body {
  height: 100%;
}

body {
  background: rgb(var(--color-bg));
  color: rgb(var(--color-fg));
  font-family: Garet, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Glass primitives */
.glass {
  background: rgb(var(--color-bg) / 0.60);
  border: 1px solid rgb(var(--color-fg) / 0.10);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

.glass-strong {
  background: rgb(var(--color-bg) / 0.75);
  border: 1px solid rgb(var(--color-fg) / 0.12);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
}

/* subtle dynamic border illusion (allowed: opacity only) */
.glass-border {
  box-shadow:
    0 0 0 1px rgb(var(--color-fg) / 0.08) inset,
    0 1px 0 0 rgb(var(--color-bg) / 0.35) inset;
}

/* focus ring */
.focus-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--color-primary) / 0.45);
}

/* Header dock: единая зелёная стеклянная капсула */
.header-dock {
  position: relative;
  border-radius: 32px;
  overflow: hidden;
  background: rgb(var(--color-accent1) / 0.55);
  border: 1px solid rgb(var(--color-fg) / 0.12);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.header-dock::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: 32px;
  box-shadow:
    inset 0 0 0 1px rgb(255 255 255 / 0.55),
    inset 0 0 0 2px rgb(255 255 255 / 0.08);
}

/* Левая зона каталога: внутри той же капсулы, лёгкое отделение */
.header-catalog {
  background: rgb(255 255 255 / 0.10);
  border: 1px solid rgb(255 255 255 / 0.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Поиск: внутренний “инпут” с тем же радиусом, что и визуально нужно */
.header-search {
  border-radius: 28px; /* 32 - 4: визуально одинаковые углы */
  background: rgb(255 255 255 / 0.65);
  border: 2px solid rgb(var(--color-accent1) / 0.65);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Иконки справа: круглые стеклянные */
.header-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  background: rgb(255 255 255 / 0.55);
  border: 1px solid rgb(var(--color-fg) / 0.10);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.header-icon--accent {
  background: rgb(var(--color-accent1) / 0.60);
  border-color: rgb(255 255 255 / 0.22);
}

/* Dark theme tweaks, без “левых” цветов */
html.dark .header-dock {
  background: rgb(var(--color-accent1) / 0.35);
  border-color: rgb(255 255 255 / 0.14);
}

html.dark .header-search {
  background: rgb(var(--color-dark) / 0.22);
  border-color: rgb(var(--color-accent1) / 0.45);
}

html.dark .header-icon {
  background: rgb(var(--color-dark) / 0.22);
  border-color: rgb(255 255 255 / 0.14);
}
